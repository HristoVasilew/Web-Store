create table address (id bigint generated by default as identity, city varchar(100) not null, number integer, street varchar(100) not null, user_id bigint, primary key (id));
create table orders (id bigint generated by default as identity, date timestamp not null, greeting varchar(255) not null, total_price numeric(19,2) not null, user_id bigint, primary key (id));
create table orders_product_entities (order_entity_id bigint not null, product_entities_id bigint not null);
create table products (id bigint generated by default as identity, barcode varchar(255) not null, date_updated timestamp not null, name varchar(100) not null, price numeric(19,2) not null, primary key (id));
create table products_order_entities (product_entity_id bigint not null, order_entities_id bigint not null);
create table users (id bigint generated by default as identity, date_added timestamp not null, email varchar(50) not null, first_name varchar(50) not null, last_name varchar(50) not null, password varchar(50) not null, type char(255) not null, primary key (id));
alter table products add constraint UK_qfr8vf85k3q1xinifvsl1eynf unique (barcode);
alter table users add constraint UK_6dotkott2kjsp8vw4d0m25fb7 unique (email);
alter table address add constraint FK6i66ijb8twgcqtetl8eeeed6v foreign key (user_id) references users;
alter table orders add constraint FK32ql8ubntj5uh44ph9659tiih foreign key (user_id) references users;
alter table orders_product_entities add constraint FKipkse5kfs2li5teem6k8p2u1s foreign key (product_entities_id) references products;
alter table orders_product_entities add constraint FKqjyjudyp0o109q8btamvwmofe foreign key (order_entity_id) references orders;
alter table products_order_entities add constraint FKcb45ra2wqi0u5eff6886js6ll foreign key (order_entities_id) references orders;
alter table products_order_entities add constraint FKqyi21h7i9wr0v0smkqtteya07 foreign key (product_entity_id) references products;
